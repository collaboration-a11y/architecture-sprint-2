### Пример шардирования с репликацией для MongoDB

Добавлен `compose.yaml` файл, состоящий из:

- mongodb приложения
- mongodb запущенная в режиме конфигурационного сервера
- mongodb запущенная в режиме роутера
- 2 шарда для базы данных MongoDB
- по 3 дополнительных реплики для каждого шарда

Порты для основных сервисов расположил в .env файле, чтобы затем было легче переиспользовать в скрипте в котором произвожу шардирование. Чтобы воспроизвести все шаги, для минимального примера шардирования создал скрипт `./scripts/init-sharding-with-repl.sh`. В нем пошагово создаются шарды для БД, заполняются тестовыми данными и отображается результат работы шардирования и репликации.

При выводе количества документов в реплике монги ловил ошибку (`MongoServerError: not primary and secondaryOk=false - consider using db.getMongo().setReadPref() or readPreference in the connection string`) при попытки сделать `db.helloDoc.countDocuments`, отсюда такой код, которы исправляет это поведение - `db.getMongo().setReadPref('secondary')`

### Запуск локально

```bash
make up
make setup-mongodb-sharding-with-repl
```
